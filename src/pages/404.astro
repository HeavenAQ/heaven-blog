---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import Body from '../components/Body.astro';
import Hero from '../components/Hero.astro';

---
<!DOCTYPE html>
<html lang="en">
    <head>
        <script is:inline>
            // Initialize theme BEFORE any CSS loads to prevent flash
            const theme = (() => {
                if(typeof localStorage !== 'undefined' && localStorage.getItem('theme')){
                    return localStorage.getItem('theme')
                }
                if(window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    return 'dark'
                }
                return 'light'
            })()

            if (theme === 'dark') {
                document.documentElement.classList.add('dark')
            } else {
                document.documentElement.classList.remove('dark')
            }
        </script>
        <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    </head>
    <Body>
        <Header title={SITE_TITLE} />
        <Hero/>
        <main class="pt-[56px]">
            <section class="mt-20 text-red-500 text-center">
                <h1 class="text-4xl font-bold">404</h1>
                <p class="text-xl">Page not found</p>
            </section>
        </main>
        <Footer />
    </Body>
</html>
