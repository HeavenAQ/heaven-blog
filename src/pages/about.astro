---
import BaseHead from '../components/BaseHead.astro'
import Header from '../components/Header.astro'
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts'
import Body from '../components/Body.astro'
import Hero from '../components/Hero.astro'
import Container from '../components/Container.astro'
import Bio from '../components/about/Bio.astro'
import Experience from '../components/about/Experience'

const isProd = import.meta.env.PROD
---

<!DOCTYPE html>
<html lang="en">
    <head>
        <script is:inline>
            // Initialize theme BEFORE any CSS loads to prevent flash
            const theme = (() => {
                if(typeof localStorage !== 'undefined' && localStorage.getItem('theme')){
                    return localStorage.getItem('theme')
                }
                if(window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    return 'dark'
                }
                return 'light'
            })()

            if (theme === 'dark') {
                document.documentElement.classList.add('dark')
            } else {
                document.documentElement.classList.remove('dark')
            }
        </script>
        <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    </head>
    <Body>
        <Header title={SITE_TITLE} />
        <Hero />
        <main class="pt-[56px]">
            <Bio />
            <Container>
                <Experience />
            </Container>
        </main>
    </Body>
</html>
